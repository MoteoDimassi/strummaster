{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/store/hooks.ts"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './index';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,iBAAiB,IAAM,IAAA,wKAAW;AACxC,MAAM,iBAAkD,wKAAW"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/shared/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { Music, Volume2, ChevronDown, Menu, X } from 'lucide-react';\nimport { useAppDispatch } from '../../store/hooks';\nimport { openTuner } from '../../store/slices/tunerSlice';\n\ninterface HeaderProps {\n  onToolSelect?: (tool: string) => void;\n}\n\nexport const Header: React.FC<HeaderProps> = ({ onToolSelect }) => {\n  const [isToolsDropdownOpen, setIsToolsDropdownOpen] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const dispatch = useAppDispatch();\n\n  const handleNavClick = (item: string) => {\n    console.log(`Нажато на: ${item}`);\n    if (onToolSelect) onToolSelect(item); // Reset tool selection if navigating away\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleToolsClick = (tool: string) => {\n    console.log(`Выбран инструмент: ${tool}`);\n    if (onToolSelect) onToolSelect(tool);\n    setIsToolsDropdownOpen(false);\n    setIsMobileMenuOpen(false);\n  };\n\n  const handleOpenTuner = () => {\n    dispatch(openTuner());\n  };\n\n  return (\n    <header className=\"bg-slate-950/50 backdrop-blur-md border-b border-white/10 p-4 sticky top-0 z-50\">\n      <div className=\"max-w-6xl mx-auto flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"bg-gradient-to-br from-amber-400 to-orange-600 p-2 rounded-lg shadow-lg shadow-orange-500/20\">\n            <Music className=\"text-white\" size={24} />\n          </div>\n          <div>\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent\">\n              StrumMaster\n            </h1>\n            <p className=\"text-xs text-slate-500 font-medium\">Guitar Rhythm Trainer</p>\n          </div>\n        </div>\n        \n        {/* Desktop Navigation */}\n        <nav className=\"hidden md:flex items-center gap-6\">\n          <Link\n            href=\"/\"\n            className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium\"\n          >\n            Главная\n          </Link>\n          <button\n            onClick={() => handleNavClick('Курсы')}\n            className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium\"\n          >\n            Курсы\n          </button>\n          <div className=\"relative\">\n            <button\n              onClick={() => setIsToolsDropdownOpen(!isToolsDropdownOpen)}\n              className=\"flex items-center gap-1 text-slate-300 hover:text-white transition-colors text-sm font-medium\"\n            >\n              Инструменты\n              <ChevronDown size={16} className={`transition-transform ${isToolsDropdownOpen ? 'rotate-180' : ''}`} />\n            </button>\n            {isToolsDropdownOpen && (\n              <div className=\"absolute top-full left-0 mt-2 bg-slate-900 border border-white/10 rounded-lg shadow-xl min-w-48 py-2\">\n                <Link\n                  href=\"/tuner\"\n                  className=\"block w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white transition-colors\"\n                >\n                  Тюнер\n                </Link>\n                <button\n                  onClick={() => handleToolsClick('Метроном')}\n                  className=\"block w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white transition-colors\"\n                >\n                  Метроном\n                </button>\n                <button\n                  onClick={() => handleToolsClick('Анализатор аккордов')}\n                  className=\"block w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white transition-colors\"\n                >\n                  Анализатор аккордов\n                </button>\n                <button\n                  onClick={() => handleToolsClick('Генератор аккордов')}\n                  className=\"block w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white transition-colors\"\n                >\n                  Генератор аккордов\n                </button>\n                <Link\n                  href=\"/dictation\"\n                  className=\"block w-full text-left px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white transition-colors\"\n                >\n                  Музыкальный диктант\n                </Link>\n              </div>\n            )}\n          </div>\n          <button\n            onClick={() => handleNavClick('Блог')}\n            className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium\"\n          >\n            Блог\n          </button>\n          <button\n            onClick={() => handleNavClick('Табы')}\n            className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium\"\n          >\n            Табы\n          </button>\n          <Link\n            href=\"/tuner\"\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors ml-4\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n              <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n            </svg>\n            Тюнер\n          </Link>\n        </nav>\n\n        {/* Mobile menu button */}\n        <button\n          onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n          className=\"md:hidden text-slate-300 hover:text-white\"\n        >\n          {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n        </button>\n      </div>\n\n      {/* Mobile Navigation */}\n      {isMobileMenuOpen && (\n        <div className=\"md:hidden mt-4 pt-4 border-t border-white/10\">\n          <nav className=\"flex flex-col gap-4\">\n            <Link\n              href=\"/\"\n              className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium text-left\"\n            >\n              Главная\n            </Link>\n            <button\n              onClick={() => handleNavClick('Курсы')}\n              className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium text-left\"\n            >\n              Курсы\n            </button>\n            <div>\n              <button\n                onClick={() => setIsToolsDropdownOpen(!isToolsDropdownOpen)}\n                className=\"flex items-center gap-1 text-slate-300 hover:text-white transition-colors text-sm font-medium w-full text-left\"\n              >\n                Инструменты\n                <ChevronDown size={16} className={`transition-transform ${isToolsDropdownOpen ? 'rotate-180' : ''}`} />\n              </button>\n              {isToolsDropdownOpen && (\n                <div className=\"mt-2 ml-4 space-y-2\">\n                  <Link\n                    href=\"/tuner\"\n                    className=\"block w-full text-left text-sm text-slate-400 hover:text-white transition-colors\"\n                  >\n                    Тюнер\n                  </Link>\n                  <button\n                    onClick={() => handleToolsClick('Метроном')}\n                    className=\"block w-full text-left text-sm text-slate-400 hover:text-white transition-colors\"\n                  >\n                    Метроном\n                  </button>\n                  <button\n                    onClick={() => handleToolsClick('Анализатор аккордов')}\n                    className=\"block w-full text-left text-sm text-slate-400 hover:text-white transition-colors\"\n                  >\n                    Анализатор аккордов\n                  </button>\n                  <button\n                    onClick={() => handleToolsClick('Генератор аккордов')}\n                    className=\"block w-full text-left text-sm text-slate-400 hover:text-white transition-colors\"\n                  >\n                    Генератор аккордов\n                  </button>\n                  <Link\n                    href=\"/dictation\"\n                    className=\"block w-full text-left text-sm text-slate-400 hover:text-white transition-colors\"\n                  >\n                    Музыкальный диктант\n                  </Link>\n                </div>\n              )}\n            </div>\n            <button\n              onClick={() => handleNavClick('Блог')}\n              className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium text-left\"\n            >\n              Блог\n            </button>\n            <button\n              onClick={() => handleNavClick('Табы')}\n              className=\"text-slate-300 hover:text-white transition-colors text-sm font-medium text-left\"\n            >\n              Табы\n            </button>\n            <Link\n              href=\"/tuner\"\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n                <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n              </svg>\n              Тюнер\n            </Link>\n          </nav>\n        </div>\n      )}\n    </header>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/shared/components/Footer.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Send, Type, Instagram, Youtube, Music } from 'lucide-react';\n\nexport const Footer: React.FC = () => {\n  const currentYear = new Date().getFullYear();\n  const appVersion = '0.0.0'; // Версия из package.json\n\n  const handleSocialClick = (social: string) => {\n    console.log(`Переход на социальную сеть: ${social}`);\n  };\n\n  const handleLinkClick = (link: string) => {\n    console.log(`Переход на страницу: ${link}`);\n  };\n\n  return (\n    <footer className=\"bg-slate-950/50 backdrop-blur-md border-t border-white/10 p-6 mt-auto\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Основной контент футера */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\n          {/* Информация о приложении */}\n          <div className=\"flex flex-col items-center md:items-start\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"bg-gradient-to-br from-amber-400 to-orange-600 p-2 rounded-lg shadow-lg shadow-orange-500/20\">\n                <Music className=\"text-white\" size={20} />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-bold bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent\">\n                  StrumMaster\n                </h3>\n                <p className=\"text-xs text-slate-500 font-medium\">Guitar Rhythm Trainer</p>\n              </div>\n            </div>\n            <p className=\"text-sm text-slate-400 text-center md:text-left\">\n              Ваш помощник в изучении игры на гитаре. Тренируйте ритм, настраивайте инструмент и улучшайте навыки.\n            </p>\n          </div>\n\n          {/* Полезные ссылки */}\n          <div className=\"flex flex-col items-center md:items-center\">\n            <h4 className=\"text-sm font-semibold text-white mb-4\">Полезные ссылки</h4>\n            <div className=\"flex flex-col gap-2\">\n              <button\n                onClick={() => handleLinkClick('Политика конфиденциальности')}\n                className=\"text-sm text-slate-400 hover:text-white transition-colors\"\n              >\n                Политика конфиденциальности\n              </button>\n              <button\n                onClick={() => handleLinkClick('Договор оферты')}\n                className=\"text-sm text-slate-400 hover:text-white transition-colors\"\n              >\n                Договор оферты\n              </button>\n            </div>\n          </div>\n\n          {/* Социальные сети */}\n          <div className=\"flex flex-col items-center md:items-end\">\n            <h4 className=\"text-sm font-semibold text-white mb-4\">Мы в социальных сетях</h4>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => handleSocialClick('Telegram')}\n                className=\"bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-colors group\"\n                aria-label=\"Telegram\"\n              >\n                <Send className=\"text-slate-400 group-hover:text-white transition-colors\" size={18} />\n              </button>\n              <button\n                onClick={() => handleSocialClick('TikTok')}\n                className=\"bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-colors group\"\n                aria-label=\"TikTok\"\n              >\n                <Type className=\"text-slate-400 group-hover:text-white transition-colors\" size={18} />\n              </button>\n              <button\n                onClick={() => handleSocialClick('Instagram')}\n                className=\"bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-colors group\"\n                aria-label=\"Instagram\"\n              >\n                <Instagram className=\"text-slate-400 group-hover:text-white transition-colors\" size={18} />\n              </button>\n              <button\n                onClick={() => handleSocialClick('YouTube')}\n                className=\"bg-slate-800 hover:bg-slate-700 p-2 rounded-lg transition-colors group\"\n                aria-label=\"YouTube\"\n              >\n                <Youtube className=\"text-slate-400 group-hover:text-white transition-colors\" size={18} />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Разделитель */}\n        <div className=\"border-t border-white/10 mb-6\"></div>\n\n        {/* Копирайт и версия */}\n        <div className=\"flex flex-col md:flex-row justify-between items-center gap-4\">\n          <div className=\"text-sm text-slate-500 text-center md:text-left\">\n            © {currentYear} StrumMaster. Все права защищены.\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-xs text-slate-600 font-mono\">\n              Версия: {appVersion}\n            </div>\n            <div className=\"flex items-center gap-2 text-xs font-mono text-slate-500 border border-slate-800 px-3 py-1 rounded-full\">\n              <Music size={10} />\n              <span>Synth Active</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAHA;;;AAKO,MAAM,SAAmB;IAC9B,MAAM,cAAc,IAAI,OAAO,WAAW;IAC1C,MAAM,aAAa,SAAS,yBAAyB;IAErD,MAAM,oBAAoB,CAAC;QACzB,QAAQ,GAAG,CAAC,CAAC,4BAA4B,EAAE,QAAQ;IACrD;IAEA,MAAM,kBAAkB,CAAC;QACvB,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,MAAM;IAC5C;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,6MAAK;gDAAC,WAAU;gDAAa,MAAM;;;;;;;;;;;sDAEtC,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAA2F;;;;;;8DAGzG,8OAAC;oDAAE,WAAU;8DAAqC;;;;;;;;;;;;;;;;;;8CAGtD,8OAAC;oCAAE,WAAU;8CAAkD;;;;;;;;;;;;sCAMjE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,SAAS,IAAM,gBAAgB;4CAC/B,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,SAAS,IAAM,gBAAgB;4CAC/B,WAAU;sDACX;;;;;;;;;;;;;;;;;;sCAOL,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;4CACV,cAAW;sDAEX,cAAA,8OAAC,0MAAI;gDAAC,WAAU;gDAA0D,MAAM;;;;;;;;;;;sDAElF,8OAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;4CACV,cAAW;sDAEX,cAAA,8OAAC,0MAAI;gDAAC,WAAU;gDAA0D,MAAM;;;;;;;;;;;sDAElF,8OAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;4CACV,cAAW;sDAEX,cAAA,8OAAC,yNAAS;gDAAC,WAAU;gDAA0D,MAAM;;;;;;;;;;;sDAEvF,8OAAC;4CACC,SAAS,IAAM,kBAAkB;4CACjC,WAAU;4CACV,cAAW;sDAEX,cAAA,8OAAC,mNAAO;gDAAC,WAAU;gDAA0D,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAO3F,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;gCAAkD;gCAC5D;gCAAY;;;;;;;sCAEjB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;wCAAmC;wCACvC;;;;;;;8CAEX,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6MAAK;4CAAC,MAAM;;;;;;sDACb,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB"}},
    {"offset": {"line": 848, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/components/MeasureNavigation.tsx"],"sourcesContent":["import React from 'react';\nimport { ChevronLeft, ChevronRight, Plus, Trash2 } from 'lucide-react';\nimport { useAppSelector, useAppDispatch } from '../../../store/hooks';\nimport { \n  setActiveMeasureIdx, \n  addMeasure, \n  removeMeasure, \n  updateChordForMeasure \n} from '../../../store/slices/playerSlice';\n\nexport const MeasureNavigation: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { measures, activeMeasureIdx } = useAppSelector(state => state.player);\n  const activeMeasure = measures[activeMeasureIdx];\n  const currentChord = activeMeasure?.steps[0]?.chord || 'Am';\n\n  const handleMeasureChange = (delta: number) => {\n    const newIndex = Math.max(0, Math.min(measures.length - 1, activeMeasureIdx + delta));\n    dispatch(setActiveMeasureIdx(newIndex));\n  };\n\n  const handleAddMeasure = () => {\n    dispatch(addMeasure());\n  };\n\n  const handleRemoveMeasure = () => {\n    if (measures.length > 1) {\n      dispatch(removeMeasure());\n    }\n  };\n\n  const handleChordChange = (chord: string) => {\n    dispatch(updateChordForMeasure(chord));\n  };\n\n  return (\n    <div className=\"w-full flex flex-col md:flex-row items-center justify-between gap-4 bg-slate-800/50 p-4 rounded-xl border border-white/5\">\n      \n      {/* Navigation */}\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={() => handleMeasureChange(-1)}\n          disabled={activeMeasureIdx === 0}\n          className=\"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-30 rounded-lg transition-colors\"\n        >\n          <ChevronLeft size={20} />\n        </button>\n        <div className=\"flex flex-col items-center px-4 min-w-[100px]\">\n          <span className=\"text-xs text-slate-400 uppercase tracking-wider font-bold\">Такт</span>\n          <span className=\"text-2xl font-mono font-bold text-white\">\n            {activeMeasureIdx + 1} <span className=\"text-slate-500 text-lg\">/ {measures.length}</span>\n          </span>\n        </div>\n        <button\n          onClick={() => handleMeasureChange(1)}\n          disabled={activeMeasureIdx === measures.length - 1}\n          className=\"p-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-30 rounded-lg transition-colors\"\n        >\n          <ChevronRight size={20} />\n        </button>\n      </div>\n\n      {/* Chord Editor */}\n      <div className=\"flex items-center gap-3\">\n         <label className=\"text-sm text-slate-400 font-medium\">Аккорд:</label>\n         <select\n           value={currentChord}\n           onChange={(e) => handleChordChange(e.target.value)}\n           className=\"bg-slate-900 border border-slate-700 text-amber-400 font-bold text-lg rounded-lg px-3 py-1 focus:ring-2 focus:ring-amber-500 outline-none\"\n         >\n           {['Am', 'A', 'C', 'G', 'D', 'Dm', 'E', 'Em', 'F'].map(c => (\n             <option key={c} value={c}>{c}</option>\n           ))}\n         </select>\n      </div>\n\n      {/* Measure Actions */}\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={handleAddMeasure}\n          className=\"flex items-center gap-1 px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/40 text-emerald-400 rounded-lg text-sm font-medium transition-colors border border-emerald-600/30\"\n         >\n           <Plus size={16} /> Добавить такт\n        </button>\n        {measures.length > 1 && (\n          <button\n            onClick={handleRemoveMeasure}\n            className=\"p-2 bg-rose-900/20 hover:bg-rose-900/40 text-rose-400 rounded-lg transition-colors border border-rose-900/30\"\n            title=\"Удалить текущий такт\"\n          >\n            <Trash2 size={18} />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAOO,MAAM,oBAA8B;IACzC,MAAM,WAAW,IAAA,uIAAc;IAC/B,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,IAAA,uIAAc,EAAC,CAAA,QAAS,MAAM,MAAM;IAC3E,MAAM,gBAAgB,QAAQ,CAAC,iBAAiB;IAChD,MAAM,eAAe,eAAe,KAAK,CAAC,EAAE,EAAE,SAAS;IAEvD,MAAM,sBAAsB,CAAC;QAC3B,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,SAAS,MAAM,GAAG,GAAG,mBAAmB;QAC9E,SAAS,IAAA,4JAAmB,EAAC;IAC/B;IAEA,MAAM,mBAAmB;QACvB,SAAS,IAAA,mJAAU;IACrB;IAEA,MAAM,sBAAsB;QAC1B,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,SAAS,IAAA,sJAAa;QACxB;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,SAAS,IAAA,8JAAqB,EAAC;IACjC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,oBAAoB,CAAC;wBACpC,UAAU,qBAAqB;wBAC/B,WAAU;kCAEV,cAAA,8OAAC,mOAAW;4BAAC,MAAM;;;;;;;;;;;kCAErB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAA4D;;;;;;0CAC5E,8OAAC;gCAAK,WAAU;;oCACb,mBAAmB;oCAAE;kDAAC,8OAAC;wCAAK,WAAU;;4CAAyB;4CAAG,SAAS,MAAM;;;;;;;;;;;;;;;;;;;kCAGtF,8OAAC;wBACC,SAAS,IAAM,oBAAoB;wBACnC,UAAU,qBAAqB,SAAS,MAAM,GAAG;wBACjD,WAAU;kCAEV,cAAA,8OAAC,sOAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAKxB,8OAAC;gBAAI,WAAU;;kCACZ,8OAAC;wBAAM,WAAU;kCAAqC;;;;;;kCACtD,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;wBACjD,WAAU;kCAET;4BAAC;4BAAM;4BAAK;4BAAK;4BAAK;4BAAK;4BAAM;4BAAK;4BAAM;yBAAI,CAAC,GAAG,CAAC,CAAA,kBACpD,8OAAC;gCAAe,OAAO;0CAAI;+BAAd;;;;;;;;;;;;;;;;0BAMpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAET,8OAAC,0MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;oBAEpB,SAAS,MAAM,GAAG,mBACjB,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,OAAM;kCAEN,cAAA,8OAAC,oNAAM;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAM1B"}},
    {"offset": {"line": 1064, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/components/PatternControls.tsx"],"sourcesContent":["import React from 'react';\nimport { useAppSelector, useAppDispatch } from '../../../store/hooks';\nimport { \n  applyToAllMeasures, \n  saveOnlyInThisMeasure \n} from '../../../store/slices/playerSlice';\n\nexport const PatternControls: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { hasUnsavedChanges } = useAppSelector(state => state.player);\n\n  if (!hasUnsavedChanges) return null;\n\n  return (\n    <div className=\"w-full flex justify-center gap-4 mb-4 animate-pulse\">\n      <button\n        onClick={() => dispatch(applyToAllMeasures())}\n        className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <path d=\"M3 12h18m-9-9v18\"/>\n          <path d=\"M3 6h18M3 18h18\"/>\n        </svg>\n        Применить ко всем тактам\n      </button>\n      <button\n        onClick={() => dispatch(saveOnlyInThisMeasure())}\n        className=\"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2\"\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n        </svg>\n        Сохранить только в этом такте\n      </button>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAKO,MAAM,kBAA4B;IACvC,MAAM,WAAW,IAAA,uIAAc;IAC/B,MAAM,EAAE,iBAAiB,EAAE,GAAG,IAAA,uIAAc,EAAC,CAAA,QAAS,MAAM,MAAM;IAElE,IAAI,CAAC,mBAAmB,OAAO;IAE/B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,SAAS,IAAA,2JAAkB;gBAC1C,WAAU;;kCAEV,8OAAC;wBAAI,OAAM;wBAA6B,OAAM;wBAAK,QAAO;wBAAK,SAAQ;wBAAY,MAAK;wBAAO,QAAO;wBAAe,aAAY;wBAAI,eAAc;wBAAQ,gBAAe;;0CACxK,8OAAC;gCAAK,GAAE;;;;;;0CACR,8OAAC;gCAAK,GAAE;;;;;;;;;;;;oBACJ;;;;;;;0BAGR,8OAAC;gBACC,SAAS,IAAM,SAAS,IAAA,8JAAqB;gBAC7C,WAAU;;kCAEV,8OAAC;wBAAI,OAAM;wBAA6B,OAAM;wBAAK,QAAO;wBAAK,SAAQ;wBAAY,MAAK;wBAAO,QAAO;wBAAe,aAAY;wBAAI,eAAc;wBAAQ,gBAAe;kCACxK,cAAA,8OAAC;4BAAK,GAAE;;;;;;;;;;;oBACJ;;;;;;;;;;;;;AAKd"}},
    {"offset": {"line": 1167, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/shared/components/StrumNode.tsx"],"sourcesContent":["import React from 'react';\nimport { ArrowDown, ArrowUp, Circle, CircleDot, X } from 'lucide-react';\nimport { StrumStep } from '../../domain/entities/StrumStep';\n\ninterface StrumNodeProps {\n  step: StrumStep;\n  isActive: boolean;\n  onClick: () => void;\n  onLyricsChange: (text: string) => void;\n}\n\nexport const StrumNode: React.FC<StrumNodeProps> = ({ step, isActive, onClick, onLyricsChange }) => {\n  const isDown = step.direction === 'down';\n  \n  // Helper to determine styles based on strum type\n  const getStyles = () => {\n    if (isActive) return 'bg-amber-500 border-amber-400 text-white shadow-amber-500/50';\n    \n    switch (step.strumType) {\n      case 'strum':\n        return 'bg-slate-700 border-slate-600 text-slate-200 group-hover:bg-slate-600';\n      case 'mute':\n        return 'bg-rose-900/40 border-rose-800 text-rose-400 group-hover:bg-rose-900/60';\n      case 'ghost':\n      default:\n        return 'bg-slate-800/50 border-slate-700/50 text-slate-500 group-hover:bg-slate-800';\n    }\n  };\n\n  return (\n    <div className=\"strum-node flex flex-col items-center gap-2 group select-none\">\n      \n      {/* Clickable Arrow Area */}\n      <div\n        onClick={onClick}\n        className={`\n          relative flex flex-col items-center justify-center gap-3 cursor-pointer\n          transition-all duration-200 ease-in-out\n          ${isActive ? 'scale-110 -translate-y-2' : 'hover:scale-105 hover:-translate-y-1'}\n        `}\n      >\n        {/* Arrow Indicator */}\n        <div\n          className={`\n            w-16 h-24 rounded-2xl flex items-center justify-center shadow-lg border-2\n            transition-colors duration-150\n            ${getStyles()}\n          `}\n        >\n          {isDown ? (\n            <ArrowDown size={48} strokeWidth={isActive ? 3 : 2} />\n          ) : (\n            <ArrowUp size={48} strokeWidth={isActive ? 3 : 2} />\n          )}\n        </div>\n\n        {/* Type Indicator */}\n        <div\n          className={`\n            transition-colors duration-200\n            ${isActive ? 'text-amber-400' :\n              step.strumType === 'strum' ? 'text-emerald-400' :\n              step.strumType === 'mute' ? 'text-rose-400' : 'text-slate-600'}\n          `}\n        >\n          {step.strumType === 'strum' && <CircleDot size={20} fill=\"currentColor\" className=\"opacity-80\" />}\n          {step.strumType === 'mute' && <X size={20} className=\"opacity-80\" />}\n          {step.strumType === 'ghost' && <Circle size={20} className=\"opacity-50\" />}\n        </div>\n\n        {/* Active Glow */}\n        {isActive && (\n          <div className=\"absolute inset-0 bg-amber-500/20 blur-xl rounded-full z-[-1]\" />\n        )}\n      </div>\n\n      {/* Lyrics Input */}\n      <div className=\"w-16\">\n        <input\n          type=\"text\"\n          value={step.lyrics}\n          onChange={(e) => onLyricsChange(e.target.value)}\n          placeholder=\"текст\"\n          className={`\n            w-full bg-transparent text-center text-sm border-b border-dashed focus:outline-none focus:border-amber-500\n            placeholder:text-slate-700\n            ${isActive ? 'text-amber-100 border-amber-500/50' : 'text-slate-300 border-slate-700'}\n          `}\n        />\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;;;AAUO,MAAM,YAAsC,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE;IAC7F,MAAM,SAAS,KAAK,SAAS,KAAK;IAElC,iDAAiD;IACjD,MAAM,YAAY;QAChB,IAAI,UAAU,OAAO;QAErB,OAAQ,KAAK,SAAS;YACpB,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;YACL;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBACC,SAAS;gBACT,WAAW,CAAC;;;UAGV,EAAE,WAAW,6BAA6B,uCAAuC;QACnF,CAAC;;kCAGD,8OAAC;wBACC,WAAW,CAAC;;;YAGV,EAAE,YAAY;UAChB,CAAC;kCAEA,uBACC,8OAAC,6NAAS;4BAAC,MAAM;4BAAI,aAAa,WAAW,IAAI;;;;;qFAEjD,8OAAC,uNAAO;4BAAC,MAAM;4BAAI,aAAa,WAAW,IAAI;;;;;;;;;;;kCAKnD,8OAAC;wBACC,WAAW,CAAC;;YAEV,EAAE,WAAW,mBACX,KAAK,SAAS,KAAK,UAAU,qBAC7B,KAAK,SAAS,KAAK,SAAS,kBAAkB,iBAAiB;UACnE,CAAC;;4BAEA,KAAK,SAAS,KAAK,yBAAW,8OAAC,6NAAS;gCAAC,MAAM;gCAAI,MAAK;gCAAe,WAAU;;;;;;4BACjF,KAAK,SAAS,KAAK,wBAAU,8OAAC,iMAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BACpD,KAAK,SAAS,KAAK,yBAAW,8OAAC,gNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;oBAI5D,0BACC,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAKnB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,MAAK;oBACL,OAAO,KAAK,MAAM;oBAClB,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oBAC9C,aAAY;oBACZ,WAAW,CAAC;;;YAGV,EAAE,WAAW,uCAAuC,kCAAkC;UACxF,CAAC;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 1314, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/components/StrumPattern.tsx"],"sourcesContent":["import React from 'react';\nimport { Info } from 'lucide-react';\nimport { StrumNode } from '../../../shared/components/StrumNode';\nimport { useAppSelector, useAppDispatch } from '../../../store/hooks';\nimport { updateStep } from '../../../store/slices/playerSlice';\n\nexport const StrumPattern: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { measures, activeMeasureIdx, currentDisplayStepIdx, hasUnsavedChanges } = useAppSelector(state => state.player);\n  \n  const activeMeasure = measures[activeMeasureIdx];\n  const currentChord = activeMeasure?.steps[0]?.chord || 'Am';\n\n  const handleStepClick = (stepIdx: number) => {\n    const step = activeMeasure.steps[stepIdx];\n    // Cycle: ghost -> strum -> mute -> ghost\n    const nextType = step.strumType === 'ghost' ? 'strum'\n      : step.strumType === 'strum' ? 'mute'\n      : 'ghost';\n    \n    dispatch(updateStep({ \n      measureIdx: activeMeasureIdx, \n      stepIdx, \n      updates: { strumType: nextType } \n    }));\n  };\n\n  const handleLyricsChange = (stepIdx: number, text: string) => {\n    dispatch(updateStep({ \n      measureIdx: activeMeasureIdx, \n      stepIdx, \n      updates: { lyrics: text } \n    }));\n  };\n\n  if (!activeMeasure) return null;\n\n  return (\n    <div className=\"w-full pb-6 pt-2\">\n      <div className=\"visualizer-container flex justify-center w-full px-4\">\n        <div className=\"strum-container relative flex gap-4 md:gap-6 bg-slate-950/40 p-8 pt-10 rounded-3xl border border-white/5 shadow-2xl items-center justify-center\">\n          \n          {/* Measure Chord Label Background */}\n          <div className=\"absolute top-3 left-4 text-slate-700 font-black text-6xl opacity-10 pointer-events-none select-none\">\n            {currentChord}\n          </div>\n\n          {activeMeasure.steps.map((step, index) => (\n            <StrumNode\n              key={step.id}\n              step={step}\n              isActive={currentDisplayStepIdx === index}\n              onClick={() => handleStepClick(index)}\n              onLyricsChange={(text) => handleLyricsChange(index, text)}\n            />\n          ))}\n        </div>\n      </div>\n      \n      <p className=\"text-center text-slate-500 mt-6 flex items-center justify-center gap-2 text-sm\">\n        <Info size={16} />\n        <span className=\"hidden md:inline\">Режим редактирования:</span> Нажмите на стрелку для переключения: Удар → Приглушение → Пропуск. Введите текст под стрелкой для добавления слов.\n        {hasUnsavedChanges && (\n          <span className=\"ml-2 text-amber-400 font-medium\">Есть несохраненные изменения в такте!</span>\n        )}\n      </p>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,eAAyB;IACpC,MAAM,WAAW,IAAA,uIAAc;IAC/B,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,iBAAiB,EAAE,GAAG,IAAA,uIAAc,EAAC,CAAA,QAAS,MAAM,MAAM;IAErH,MAAM,gBAAgB,QAAQ,CAAC,iBAAiB;IAChD,MAAM,eAAe,eAAe,KAAK,CAAC,EAAE,EAAE,SAAS;IAEvD,MAAM,kBAAkB,CAAC;QACvB,MAAM,OAAO,cAAc,KAAK,CAAC,QAAQ;QACzC,yCAAyC;QACzC,MAAM,WAAW,KAAK,SAAS,KAAK,UAAU,UAC1C,KAAK,SAAS,KAAK,UAAU,SAC7B;QAEJ,SAAS,IAAA,mJAAU,EAAC;YAClB,YAAY;YACZ;YACA,SAAS;gBAAE,WAAW;YAAS;QACjC;IACF;IAEA,MAAM,qBAAqB,CAAC,SAAiB;QAC3C,SAAS,IAAA,mJAAU,EAAC;YAClB,YAAY;YACZ;YACA,SAAS;gBAAE,QAAQ;YAAK;QAC1B;IACF;IAEA,IAAI,CAAC,eAAe,OAAO;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAGb,8OAAC;4BAAI,WAAU;sCACZ;;;;;;wBAGF,cAAc,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBAC9B,8OAAC,sJAAS;gCAER,MAAM;gCACN,UAAU,0BAA0B;gCACpC,SAAS,IAAM,gBAAgB;gCAC/B,gBAAgB,CAAC,OAAS,mBAAmB,OAAO;+BAJ/C,KAAK,EAAE;;;;;;;;;;;;;;;;0BAUpB,8OAAC;gBAAE,WAAU;;kCACX,8OAAC,0MAAI;wBAAC,MAAM;;;;;;kCACZ,8OAAC;wBAAK,WAAU;kCAAmB;;;;;;oBAA4B;oBAC9D,mCACC,8OAAC;wBAAK,WAAU;kCAAkC;;;;;;;;;;;;;;;;;;AAK5D"}},
    {"offset": {"line": 1436, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/services/PlayerService.ts"],"sourcesContent":["import { Measure, StrumStep } from '../../../domain/entities';\n\nexport interface SchedulerConfig {\n  bpm: number;\n  lookahead: number;\n  scheduleAheadTime: number;\n}\n\nexport class PlayerService {\n  private measures: Measure[] = [];\n  private activeMeasureIdx: number = 0;\n  private config: Partial<SchedulerConfig> = {\n    bpm: 120,\n    lookahead: 0.1,\n    scheduleAheadTime: 0.1\n  };\n  private isPlaying: boolean = false;\n  private timerId: any = null;\n  private currentStep: number = 0;\n\n  public setMeasures(measures: Measure[]): void {\n    this.measures = measures;\n  }\n\n  public setActiveMeasureIdx(idx: number): void {\n    this.activeMeasureIdx = idx;\n  }\n\n  public setConfig(config: Partial<SchedulerConfig>): void {\n    this.config = { ...this.config, ...config };\n  }\n\n  public async start(): Promise<void> {\n    if (this.isPlaying) return;\n    \n    this.isPlaying = true;\n    this.currentStep = 0;\n    \n    // Эмитируем событие начала воспроизведения\n    this.emitPlayEvent();\n    \n    // Импортируем AudioEngineService динамически, чтобы избежать циклических зависимостей\n    const { audioEngineService } = await import('../../audio/services/AudioEngineService');\n    \n    const activeMeasure = this.measures[this.activeMeasureIdx];\n    if (!activeMeasure) return;\n    \n    const steps = activeMeasure.steps;\n    const stepDuration = 60 / (this.config.bpm! * 2); // 8th notes\n    \n    const playNextStep = async () => {\n      if (!this.isPlaying || this.currentStep >= steps.length) {\n        // Переходим к следующему такту, если есть\n        if (this.currentStep >= steps.length && this.activeMeasureIdx < this.measures.length - 1) {\n          this.activeMeasureIdx++;\n          this.currentStep = 0;\n          // Рекурсивно запускаем воспроизведение следующего такта\n          this.start();\n          return;\n        }\n        this.stop();\n        return;\n      }\n      \n      const step = steps[this.currentStep];\n      \n      // Эмитируем событие шага для анимации\n      this.emitStepEvent(this.currentStep, step);\n      \n      if (step && step.chord) {\n        await audioEngineService.strum(\n          step.direction,\n          step.chord,\n          step.strumType,\n          undefined\n        );\n      }\n      \n      this.currentStep++;\n      \n      if (this.currentStep < steps.length) {\n        this.timerId = setTimeout(playNextStep, stepDuration * 1000);\n      } else {\n        // Переходим к следующему такту, если есть\n        if (this.activeMeasureIdx < this.measures.length - 1) {\n          this.activeMeasureIdx++;\n          this.currentStep = 0;\n          // Рекурсивно запускаем воспроизведение следующего такта\n          setTimeout(() => this.start(), 100); // Небольшая задержка перед следующим тактом\n        } else {\n          this.stop();\n        }\n      }\n    };\n    \n    // Начинаем воспроизведение\n    await audioEngineService.resume();\n    playNextStep();\n  }\n\n  public stop(): void {\n    if (!this.isPlaying) return;\n    \n    this.isPlaying = false;\n    \n    if (this.timerId) {\n      clearTimeout(this.timerId);\n      this.timerId = null;\n    }\n    \n    // Эмитируем событие остановки\n    this.emitStopEvent();\n  }\n\n  public reset(): void {\n    this.stop();\n    this.activeMeasureIdx = 0;\n  }\n\n  public get isCurrentlyPlaying(): boolean {\n    return this.isPlaying;\n  }\n\n  public getCurrentPosition(): { measureIdx: number; stepIdx: number } {\n    return { measureIdx: this.activeMeasureIdx, stepIdx: this.currentStep };\n  }\n\n  public getDuration(): number {\n    const activeMeasure = this.measures[this.activeMeasureIdx];\n    if (!activeMeasure) return 0;\n    \n    const stepDuration = 60 / (this.config.bpm! * 2); // 8th notes\n    return activeMeasure.steps.length * stepDuration;\n  }\n\n  public getCurrentTime(): number {\n    const stepDuration = 60 / (this.config.bpm! * 2); // 8th notes\n    return this.currentStep * stepDuration;\n  }\n\n  // Приватные методы для работы с событиями\n  private stepCallbacks: ((data: any) => void)[] = [];\n  private playCallbacks: ((data: any) => void)[] = [];\n  private stopCallbacks: ((data: any) => void)[] = [];\n  private errorCallbacks: ((data: any) => void)[] = [];\n\n  private emitStepEvent(stepIndex: number, step: StrumStep | null): void {\n    const data = {\n      stepIndex,\n      step,\n      measureIdx: this.activeMeasureIdx,\n      isPlaying: this.isPlaying\n    };\n    this.stepCallbacks.forEach(callback => callback(data));\n  }\n\n  private emitPlayEvent(): void {\n    const data = {\n      isPlaying: this.isPlaying,\n      measureIdx: this.activeMeasureIdx\n    };\n    this.playCallbacks.forEach(callback => callback(data));\n  }\n\n  private emitStopEvent(): void {\n    const data = {\n      isPlaying: this.isPlaying,\n      measureIdx: this.activeMeasureIdx\n    };\n    this.stopCallbacks.forEach(callback => callback(data));\n  }\n\n  // Методы для работы с событиями\n  public onStep(callback: (data: any) => void): () => void {\n    this.stepCallbacks.push(callback);\n    return () => {\n      const index = this.stepCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.stepCallbacks.splice(index, 1);\n      }\n    };\n  }\n\n  public onPlay(callback: (data: any) => void): () => void {\n    this.playCallbacks.push(callback);\n    return () => {\n      const index = this.playCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.playCallbacks.splice(index, 1);\n      }\n    };\n  }\n\n  public onStop(callback: (data: any) => void): () => void {\n    this.stopCallbacks.push(callback);\n    return () => {\n      const index = this.stopCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.stopCallbacks.splice(index, 1);\n      }\n    };\n  }\n\n  public onError(callback: (data: any) => void): () => void {\n    this.errorCallbacks.push(callback);\n    return () => {\n      const index = this.errorCallbacks.indexOf(callback);\n      if (index > -1) {\n        this.errorCallbacks.splice(index, 1);\n      }\n    };\n  }\n\n  // Метод для синхронизации состояний\n  public syncStates(): void {\n    // Пустая реализация для совместимости\n  }\n}\n\nexport const playerService = new PlayerService();"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1623, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/components/PlayerControls.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Play, Square, RotateCcw } from 'lucide-react';\nimport { useAppSelector, useAppDispatch } from '../../../store/hooks';\nimport {\n  setBpm,\n  setIsPlaying,\n  setActiveMeasureIdx,\n  setCurrentDisplayStepIdx,\n  reset as resetPlayer,\n  changeStepCount\n} from '../../../store/slices/playerSlice';\nimport { playerService } from '../services/PlayerService';\nimport { audioEngineService } from '../../audio/services/AudioEngineService';\n\nexport const PlayerControls: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const { bpm, isPlaying, measures, activeMeasureIdx } = useAppSelector(state => state.player);\n  const activeMeasure = measures[activeMeasureIdx];\n  const stepCount = activeMeasure?.steps.length || 8;\n  \n  const [tempBpm, setTempBpm] = useState<string>(bpm.toString());\n\n  // Sync player service with Redux state\n  useEffect(() => {\n    playerService.setMeasures(measures);\n    playerService.setActiveMeasureIdx(activeMeasureIdx);\n    playerService.setConfig({ bpm });\n  }, [measures, activeMeasureIdx, bpm]);\n\n  // Subscribe to player service events\n  useEffect(() => {\n    const unsubscribeStep = playerService.onStep((data) => {\n      // Обновляем текущий шаг для анимации\n      dispatch(setCurrentDisplayStepIdx(data.stepIndex));\n    });\n\n    const unsubscribePlay = playerService.onPlay((data) => {\n      // Обновляем состояние Redux при начале воспроизведения\n      dispatch(setIsPlaying(data.isPlaying));\n      dispatch(setActiveMeasureIdx(data.measureIdx));\n    });\n\n    const unsubscribeStop = playerService.onStop((data) => {\n      // Обновляем состояние Redux при остановке\n      dispatch(setIsPlaying(data.isPlaying));\n      dispatch(setActiveMeasureIdx(data.measureIdx));\n      // Сбрасываем отображаемый шаг при остановке\n      dispatch(setCurrentDisplayStepIdx(null));\n    });\n\n    return () => {\n      unsubscribeStep();\n      unsubscribePlay();\n      unsubscribeStop();\n    };\n  }, [dispatch]);\n\n  const handleTogglePlay = async () => {\n    if (isPlaying) {\n      playerService.stop();\n    } else {\n      await playerService.start();\n    }\n  };\n\n  const handleReset = () => {\n    playerService.reset();\n    dispatch(resetPlayer());\n  };\n\n  const handleStepCountChange = (delta: number) => {\n    dispatch(changeStepCount(delta));\n  };\n\n  const handleBpmChange = (newBpm: number) => {\n    dispatch(setBpm(newBpm));\n    playerService.setConfig({ bpm: newBpm });\n  };\n\n  return (\n    <div className=\"w-full max-w-3xl bg-slate-800 rounded-xl p-6 shadow-xl border border-slate-700\">\n      <div className=\"flex flex-col md:flex-row items-center justify-between gap-6\">\n        \n        {/* Play/Stop Button */}\n        <button\n          onClick={handleTogglePlay}\n          className={`\n            flex items-center justify-center w-20 h-20 rounded-full shadow-lg transition-all duration-200\n            ${isPlaying \n              ? 'bg-rose-500 hover:bg-rose-600 shadow-rose-500/30' \n              : 'bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/30'\n            }\n          `}\n        >\n          {isPlaying ? (\n            <Square fill=\"white\" className=\"text-white ml-0.5\" size={32} />\n          ) : (\n            <Play fill=\"white\" className=\"text-white ml-1\" size={36} />\n          )}\n        </button>\n\n        {/* BPM Control */}\n        <div className=\"flex-1 w-full flex flex-col gap-2\">\n          <div className=\"flex justify-between text-slate-300 font-medium\">\n            <span>Темп</span>\n          </div>\n          <div className=\"flex gap-2 items-center\">\n            <input\n              type=\"range\"\n              min=\"35\"\n              max=\"250\"\n              value={bpm}\n              onChange={(e) => {\n                const newValue = Number(e.target.value);\n                handleBpmChange(newValue);\n                setTempBpm(newValue.toString());\n              }}\n              className=\"flex-1 h-3 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-amber-500\"\n            />\n            <div className=\"flex items-center gap-1\">\n              <input\n                type=\"text\"\n                value={tempBpm}\n                onChange={(e) => {\n                  const value = e.target.value;\n                  const digitsOnly = value.replace(/\\D/g, '');\n                  \n                  const cursorPos = e.target.selectionStart;\n                  \n                  let newValue = digitsOnly;\n                  if (cursorPos < value.length) {\n                    const beforeCursor = digitsOnly.substring(0, cursorPos);\n                    const afterCursor = digitsOnly.substring(cursorPos);\n                    newValue = afterCursor;\n                  }\n                  \n                  setTempBpm(newValue);\n                  \n                  if (newValue !== '') {\n                    handleBpmChange(Number(newValue));\n                  }\n                }}\n                onBlur={(e) => {\n                  const value = Number(tempBpm);\n                  if (tempBpm === '' || value < 35) {\n                    handleBpmChange(35);\n                    setTempBpm('35');\n                  } else if (value > 250) {\n                    handleBpmChange(250);\n                    setTempBpm('250');\n                  } else {\n                    handleBpmChange(value);\n                  }\n                }}\n                onFocus={(e) => {\n                  e.target.select();\n                  setTempBpm(bpm.toString());\n                }}\n                className=\"w-16 bg-slate-900 text-amber-400 font-mono text-sm rounded-lg px-2 py-1 border border-slate-700 focus:ring-2 focus:ring-amber-500 outline-none text-center\"\n              />\n              <span className=\"text-amber-400 font-mono text-sm\">BPM</span>\n            </div>\n          </div>\n          <div className=\"flex justify-between text-xs text-slate-500\">\n            <span>Медленно</span>\n            <span>Быстро</span>\n          </div>\n        </div>\n\n        {/* Separator */}\n        <div className=\"hidden md:block w-px h-16 bg-slate-700\"></div>\n\n        {/* Length Controls */}\n        <div className=\"flex flex-col items-center gap-2\">\n          <span className=\"text-slate-300 text-sm font-medium\">Длина</span>\n          <div className=\"flex items-center bg-slate-900 rounded-lg p-1 border border-slate-700\">\n            <button \n              onClick={() => handleStepCountChange(-2)}\n              disabled={stepCount <= 4}\n              className=\"p-2 hover:bg-slate-700 rounded-md disabled:opacity-30 disabled:hover:bg-transparent text-slate-300 transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n              </svg>\n            </button>\n            <span className=\"w-8 text-center font-mono font-bold text-lg text-slate-200\">{stepCount}</span>\n             <button \n              onClick={() => handleStepCountChange(2)}\n              disabled={stepCount >= 16}\n              className=\"p-2 hover:bg-slate-700 rounded-md disabled:opacity-30 disabled:hover:bg-transparent text-slate-300 transition-colors\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Reset */}\n        <button \n          onClick={handleReset}\n          className=\"p-3 text-slate-400 hover:text-white hover:bg-slate-700 rounded-full transition-colors\"\n          title=\"Сбросить паттерн\"\n        >\n          <RotateCcw size={20} />\n        </button>\n\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAQA;;;;;;;AAGO,MAAM,iBAA2B;IACtC,MAAM,WAAW,IAAA,uIAAc;IAC/B,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,IAAA,uIAAc,EAAC,CAAA,QAAS,MAAM,MAAM;IAC3F,MAAM,gBAAgB,QAAQ,CAAC,iBAAiB;IAChD,MAAM,YAAY,eAAe,MAAM,UAAU;IAEjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAS,IAAI,QAAQ;IAE3D,uCAAuC;IACvC,IAAA,kNAAS,EAAC;QACR,uKAAa,CAAC,WAAW,CAAC;QAC1B,uKAAa,CAAC,mBAAmB,CAAC;QAClC,uKAAa,CAAC,SAAS,CAAC;YAAE;QAAI;IAChC,GAAG;QAAC;QAAU;QAAkB;KAAI;IAEpC,qCAAqC;IACrC,IAAA,kNAAS,EAAC;QACR,MAAM,kBAAkB,uKAAa,CAAC,MAAM,CAAC,CAAC;YAC5C,qCAAqC;YACrC,SAAS,IAAA,iKAAwB,EAAC,KAAK,SAAS;QAClD;QAEA,MAAM,kBAAkB,uKAAa,CAAC,MAAM,CAAC,CAAC;YAC5C,uDAAuD;YACvD,SAAS,IAAA,qJAAY,EAAC,KAAK,SAAS;YACpC,SAAS,IAAA,4JAAmB,EAAC,KAAK,UAAU;QAC9C;QAEA,MAAM,kBAAkB,uKAAa,CAAC,MAAM,CAAC,CAAC;YAC5C,0CAA0C;YAC1C,SAAS,IAAA,qJAAY,EAAC,KAAK,SAAS;YACpC,SAAS,IAAA,4JAAmB,EAAC,KAAK,UAAU;YAC5C,4CAA4C;YAC5C,SAAS,IAAA,iKAAwB,EAAC;QACpC;QAEA,OAAO;YACL;YACA;YACA;QACF;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,mBAAmB;QACvB,IAAI,WAAW;YACb,uKAAa,CAAC,IAAI;QACpB,OAAO;YACL,MAAM,uKAAa,CAAC,KAAK;QAC3B;IACF;IAEA,MAAM,cAAc;QAClB,uKAAa,CAAC,KAAK;QACnB,SAAS,IAAA,8IAAW;IACtB;IAEA,MAAM,wBAAwB,CAAC;QAC7B,SAAS,IAAA,wJAAe,EAAC;IAC3B;IAEA,MAAM,kBAAkB,CAAC;QACvB,SAAS,IAAA,+IAAM,EAAC;QAChB,uKAAa,CAAC,SAAS,CAAC;YAAE,KAAK;QAAO;IACxC;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;oBACC,SAAS;oBACT,WAAW,CAAC;;YAEV,EAAE,YACE,qDACA,4DACH;UACH,CAAC;8BAEA,0BACC,8OAAC,gNAAM;wBAAC,MAAK;wBAAQ,WAAU;wBAAoB,MAAM;;;;;iFAEzD,8OAAC,0MAAI;wBAAC,MAAK;wBAAQ,WAAU;wBAAkB,MAAM;;;;;;;;;;;8BAKzD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;0CAAK;;;;;;;;;;;sCAER,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,KAAI;oCACJ,KAAI;oCACJ,OAAO;oCACP,UAAU,CAAC;wCACT,MAAM,WAAW,OAAO,EAAE,MAAM,CAAC,KAAK;wCACtC,gBAAgB;wCAChB,WAAW,SAAS,QAAQ;oCAC9B;oCACA,WAAU;;;;;;8CAEZ,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC;gDACT,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gDAC5B,MAAM,aAAa,MAAM,OAAO,CAAC,OAAO;gDAExC,MAAM,YAAY,EAAE,MAAM,CAAC,cAAc;gDAEzC,IAAI,WAAW;gDACf,IAAI,YAAY,MAAM,MAAM,EAAE;oDAC5B,MAAM,eAAe,WAAW,SAAS,CAAC,GAAG;oDAC7C,MAAM,cAAc,WAAW,SAAS,CAAC;oDACzC,WAAW;gDACb;gDAEA,WAAW;gDAEX,IAAI,aAAa,IAAI;oDACnB,gBAAgB,OAAO;gDACzB;4CACF;4CACA,QAAQ,CAAC;gDACP,MAAM,QAAQ,OAAO;gDACrB,IAAI,YAAY,MAAM,QAAQ,IAAI;oDAChC,gBAAgB;oDAChB,WAAW;gDACb,OAAO,IAAI,QAAQ,KAAK;oDACtB,gBAAgB;oDAChB,WAAW;gDACb,OAAO;oDACL,gBAAgB;gDAClB;4CACF;4CACA,SAAS,CAAC;gDACR,EAAE,MAAM,CAAC,MAAM;gDACf,WAAW,IAAI,QAAQ;4CACzB;4CACA,WAAU;;;;;;sDAEZ,8OAAC;4CAAK,WAAU;sDAAmC;;;;;;;;;;;;;;;;;;sCAGvD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;8CAAK;;;;;;8CACN,8OAAC;8CAAK;;;;;;;;;;;;;;;;;;8BAKV,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCAAqC;;;;;;sCACrD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,sBAAsB,CAAC;oCACtC,UAAU,aAAa;oCACvB,WAAU;8CAEV,cAAA,8OAAC;wCAAI,OAAM;wCAA6B,OAAM;wCAAK,QAAO;wCAAK,SAAQ;wCAAY,MAAK;wCAAO,QAAO;wCAAe,aAAY;wCAAI,eAAc;wCAAQ,gBAAe;kDACxK,cAAA,8OAAC;4CAAK,IAAG;4CAAI,IAAG;4CAAK,IAAG;4CAAK,IAAG;;;;;;;;;;;;;;;;8CAGpC,8OAAC;oCAAK,WAAU;8CAA8D;;;;;;8CAC7E,8OAAC;oCACA,SAAS,IAAM,sBAAsB;oCACrC,UAAU,aAAa;oCACvB,WAAU;8CAEV,cAAA,8OAAC;wCAAI,OAAM;wCAA6B,OAAM;wCAAK,QAAO;wCAAK,SAAQ;wCAAY,MAAK;wCAAO,QAAO;wCAAe,aAAY;wCAAI,eAAc;wCAAQ,gBAAe;;0DACxK,8OAAC;gDAAK,IAAG;gDAAK,IAAG;gDAAI,IAAG;gDAAK,IAAG;;;;;;0DAChC,8OAAC;gDAAK,IAAG;gDAAI,IAAG;gDAAK,IAAG;gDAAK,IAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOxC,8OAAC;oBACC,SAAS;oBACT,WAAU;oBACV,OAAM;8BAEN,cAAA,8OAAC,6NAAS;wBAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;AAM3B"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/features/player/components/index.ts"],"sourcesContent":["export * from './MeasureNavigation';\nexport * from './PatternControls';\nexport * from './StrumPattern';\nexport * from './PlayerControls';"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 2032, "column": 0}, "map": {"version":3,"sources":["file:///Users/dmitrij/Desktop/strummaster/src/app/strumbuilder/page.tsx"],"sourcesContent":["'use client';\n\nimport { Header } from '../../shared/components/Header';\nimport { Footer } from '../../shared/components/Footer';\nimport { \n  MeasureNavigation, \n  PatternControls, \n  StrumPattern, \n  PlayerControls \n} from '../../features/player/components';\nimport { Music, Guitar, Info } from 'lucide-react';\n\nexport default function StrumBuilderPage() {\n  return (\n    <div className=\"min-h-screen flex flex-col bg-slate-950 text-white\">\n      <Header />\n      \n      <main className=\"flex-grow container mx-auto px-4 py-8\">\n        {/* Page Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 p-3 rounded-xl\">\n              <Guitar className=\"text-white\" size={32} />\n            </div>\n          </div>\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-white to-blue-400 bg-clip-text text-transparent\">\n            StrumBuilder\n          </h1>\n          <p className=\"text-slate-400 max-w-2xl mx-auto\">\n            Создавайте и оттачивайте ритмические паттерны для игры на гитаре. \n            Настраивайте темп, выбирайте аккорды и развивайте чувство ритма.\n          </p>\n        </div>\n\n        {/* Instructions */}\n        <div className=\"bg-slate-800/30 border border-white/10 rounded-lg p-4 mb-8\">\n          <div className=\"flex items-start gap-3\">\n            <Info className=\"text-blue-400 mt-0.5\" size={20} />\n            <div className=\"text-sm text-slate-300\">\n              <p className=\"font-medium mb-1\">Как использовать:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-slate-400\">\n                <li>Нажимайте на стрелки для переключения между ударами вниз, вверх и пропусками</li>\n                <li>Используйте навигацию тактов для создания последовательности аккордов</li>\n                <li>Настраивайте темп и длину паттерна с помощью элементов управления</li>\n                <li>Нажмите Play для прослушивания созданного ритма</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"space-y-8\">\n          {/* Measure Navigation */}\n          <MeasureNavigation />\n          \n          {/* Pattern Controls (shown when there are unsaved changes) */}\n          <PatternControls />\n          \n          {/* Strum Pattern Visualizer */}\n          <StrumPattern />\n          \n          {/* Player Controls */}\n          <div className=\"flex justify-center\">\n            <PlayerControls />\n          </div>\n        </div>\n\n        {/* Additional Tips */}\n        <div className=\"mt-12 grid md:grid-cols-3 gap-6\">\n          <div className=\"bg-slate-800/20 border border-white/5 rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-8 h-8 bg-emerald-500/20 rounded-full flex items-center justify-center\">\n                <div className=\"w-3 h-3 bg-emerald-500 rounded-full\"></div>\n              </div>\n              <h3 className=\"font-semibold text-white\">Удар</h3>\n            </div>\n            <p className=\"text-sm text-slate-400\">\n              Активный удар по струнам вниз или вверх\n            </p>\n          </div>\n          \n          <div className=\"bg-slate-800/20 border border-white/5 rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-8 h-8 bg-rose-500/20 rounded-full flex items-center justify-center\">\n                <div className=\"w-3 h-3 bg-rose-500 rounded-full\"></div>\n              </div>\n              <h3 className=\"font-semibold text-white\">Приглушение</h3>\n            </div>\n            <p className=\"text-sm text-slate-400\">\n              Приглушенный удар с касанием струн ладонью\n            </p>\n          </div>\n          \n          <div className=\"bg-slate-800/20 border border-white/5 rounded-lg p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-8 h-8 bg-slate-500/20 rounded-full flex items-center justify-center\">\n                <div className=\"w-3 h-3 bg-slate-500 rounded-full\"></div>\n              </div>\n              <h3 className=\"font-semibold text-white\">Пропуск</h3>\n            </div>\n            <p className=\"text-sm text-slate-400\">\n              Пропуск удара для создания пауз в ритме\n            </p>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAVA;;;;;;AAYe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gJAAM;;;;;0BAEP,8OAAC;gBAAK,WAAU;;kCAEd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,gNAAM;wCAAC,WAAU;wCAAa,MAAM;;;;;;;;;;;;;;;;0CAGzC,8OAAC;gCAAG,WAAU;0CAA4G;;;;;;0CAG1H,8OAAC;gCAAE,WAAU;0CAAmC;;;;;;;;;;;;kCAOlD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0MAAI;oCAAC,WAAU;oCAAuB,MAAM;;;;;;8CAC7C,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAmB;;;;;;sDAChC,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC;8DAAG;;;;;;8DACJ,8OAAC;8DAAG;;;;;;8DACJ,8OAAC;8DAAG;;;;;;8DACJ,8OAAC;8DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOZ,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC,kLAAiB;;;;;0CAGlB,8OAAC,8KAAe;;;;;0CAGhB,8OAAC,wKAAY;;;;;0CAGb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,4KAAc;;;;;;;;;;;;;;;;kCAKnB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAG,WAAU;0DAA2B;;;;;;;;;;;;kDAE3C,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAKxC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAG,WAAU;0DAA2B;;;;;;;;;;;;kDAE3C,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAKxC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDAAG,WAAU;0DAA2B;;;;;;;;;;;;kDAE3C,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;;;;;;;0BAO5C,8OAAC,gJAAM;;;;;;;;;;;AAGb"}}]
}